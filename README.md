# Grishinium Token (GRI)

Grishinium Token (GRI) - это криптовалюта, работающая на блокчейне Grishinium. Она предназначена для обеспечения безопасных, быстрых и экономичных транзакций с использованием энергоэффективного механизма консенсуса Proof of Stake (PoS).

## Основные характеристики

- **Название токена:** Grishinium Token
- **Тикер:** GRI
- **Максимальная эмиссия:** 100,000,000 GRI
- **Делимость:** 8 десятичных знаков (1 GRI = 100,000,000 gsat)
- **Механизм консенсуса:** Proof of Stake (PoS)
- **Минимальный стейк:** 1,000 GRI
- **Период созревания стейка:** 24 часа
- **Базовая комиссия за транзакцию:** 0.001 GRI
- **Вознаграждение за блок:** уменьшается со временем

## Файловая структура

- `crypto_token.py` - Основной модуль для работы с токенами
- `token_wallet.py` - Функциональность кошелька для токенов
- `token_cli.py` - Интерфейс командной строки для работы с токенами
- `token_node.py` - Узел блокчейна с поддержкой токенов
- `blockchain.py` - Модифицированный базовый модуль блокчейна с поддержкой токенов

## Установка зависимостей

Для работы с Grishinium Token требуются следующие зависимости:

```bash
pip install cryptography flask requests pycryptodome
```

## Использование

### Запуск узла блокчейна

```bash
python token_node.py --host 0.0.0.0 --port 5000 --data-dir ./blockchain_data
```

Параметры:
- `--host` - IP-адрес для прослушивания (по умолчанию 0.0.0.0)
- `--port` - порт для прослушивания (по умолчанию 5000)
- `--data-dir` - директория для хранения данных блокчейна (по умолчанию ./data)

### Использование CLI-интерфейса

```bash
python token_cli.py --node http://localhost:5000
```

Параметры:
- `--node` - URL узла блокчейна (по умолчанию http://localhost:5000)

### Команды CLI

После запуска CLI доступны следующие команды:

#### Подключение к узлу

```
grishinium> connect http://localhost:5000
```

#### Создание кошелька

```
grishinium> create_wallet my_wallet
```

#### Загрузка существующего кошелька

```
grishinium> load_wallet my_wallet
```

#### Информация о кошельке

```
grishinium> wallet_info
```

#### Отправка токенов

```
grishinium> transfer G123456789abcdef 10.5 0.001
```

Параметры:
- Адрес получателя
- Сумма (GRI)
- Комиссия (опционально, по умолчанию 0.001 GRI)

#### Стейкинг токенов

```
grishinium> stake 1000 0.001
```

Параметры:
- Сумма для стейкинга (GRI)
- Комиссия (опционально, по умолчанию 0.001 GRI)

#### Вывод из стейкинга

```
grishinium> unstake 500 0.001
```

Параметры:
- Сумма для вывода из стейкинга (GRI)
- Комиссия (опционально, по умолчанию 0.001 GRI)

#### История транзакций

```
grishinium> history
```

#### Информация об узле блокчейна

```
grishinium> node_info
```

#### Выход из CLI

```
grishinium> exit
```

или

```
grishinium> quit
```

## API-интерфейс

Узел блокчейна предоставляет следующие API-эндпоинты:

- `GET /chain` - получить полный блокчейн
- `GET /mine` - майнить новый блок
- `POST /transactions/new` - добавить новую транзакцию
- `GET /transactions/pending` - получить список ожидающих транзакций
- `GET /balance/<address>` - получить баланс кошелька
- `GET /transactions/<address>` - получить транзакции для указанного адреса
- `POST /nodes/register` - зарегистрировать новые узлы
- `GET /nodes/resolve` - выполнить консенсус между узлами
- `GET /node/info` - получить информацию об узле

## Типы транзакций

Grishinium Token поддерживает следующие типы транзакций:

- **TRANSFER** - перевод токенов между кошельками
- **STAKE** - перевод токенов в стейкинг
- **UNSTAKE** - вывод токенов из стейкинга
- **REWARD** - вознаграждение за создание блока
- **GENESIS** - первоначальная эмиссия токенов
- **FEE** - комиссия за транзакцию

## Разработка

### Структура токена

Токен представлен классом `TokenTransaction` в модуле `crypto_token.py`. Каждая транзакция содержит следующие поля:

- `tx_id` - уникальный идентификатор транзакции
- `tx_type` - тип транзакции
- `sender` - адрес отправителя
- `recipient` - адрес получателя
- `amount` - сумма токенов (в минимальных единицах)
- `fee` - комиссия за транзакцию (в минимальных единицах)
- `timestamp` - время создания транзакции
- `signature` - цифровая подпись транзакции

### Балансы и стейкинг

Балансы и стейкинг управляются классом `TokenLedger` в модуле `crypto_token.py`. Он отслеживает:

- Балансы кошельков
- Суммы в стейкинге
- Время стейкинга
- Историю транзакций

### Кошелек

Кошелек для работы с токенами представлен классом `TokenWallet` в модуле `token_wallet.py`. Он обеспечивает:

- Хранение и управление ключами
- Создание и подписание транзакций
- Отслеживание истории транзакций
- Шифрование приватных ключей

## Безопасность

- Все транзакции подписываются с использованием цифровых подписей ECDSA
- Приватные ключи шифруются с использованием паролей
- Параметры стейкинга настроены для предотвращения атак двойного расходования
- Минимальный стейк и период созревания защищают от атак Sybil

## Лицензия

MIT License

## Контакты

По всем вопросам обращайтесь по адресу: [info@grishinium.com](mailto:info@grishinium.com)

# Grishinium Blockchain - Структура хранения кошельков

В системе Grishinium Blockchain кошельки хранятся в разных директориях в зависимости от их типа:

## Структура директорий

1. **Обычные кошельки** (используются в API и веб-интерфейсе):
   - Путь: `data/wallets/`
   - Формат: JSON файлы с именем `{wallet_name}.json` или `{address}.json`

2. **Токеновые кошельки** (используются в TokenWallet):
   - Путь: `~/.grishinium/wallets/`
   - Формат: Файлы с расширением `.wallet` и именем `{wallet_name}.wallet`

3. **Административные кошельки** (используются в AdminWallet):
   - Путь: `admin/data/wallets/`
   - Формат: Файлы с расширением `.wallet` и именем `{wallet_name}.wallet`

4. **Тестовые кошельки** (используются в тестовой сети):
   - Путь: `testnet/wallets/`
   - Формат: JSON файлы с именем `{wallet_name}.json`

## Важные замечания

- Перед использованием системы убедитесь, что все необходимые директории созданы
- Для корректной работы административного интерфейса требуется наличие директории `admin/data/wallets/`
- Для работы с токенами требуется наличие директории `~/.grishinium/wallets/`
- Для обычных операций с блокчейном требуется наличие директории `data/wallets/` 